# shell 中的参数传递

在执行 shell 脚本的时候，可以向脚本传递参数，shell 中的方法执行也可以传参，另外还包含了一些复杂的情况。

这块一直很模糊，用到的时候才去查，这里做个总结。

## 调用脚本传参

### \$0,\$1,\$2...

在使用 `sh script.sh "hello" "world"` 的时候，可以使用 `$0,$1,\$2...` 去依次获取脚本命令行传入的参数。

`$1` 得到的是 `hello`，`$2` 得到的是 `world`，依次类推。

### 获取脚本路径

`$0` 获取到的是脚本路径以及脚本名，比如：

`sh a.sh`，`$0` 是 `a.sh`
`sh a/b.sh`，`$0` 是 `a/b.sh`

在获取当前脚本目录的时候很有用，因为 shell 中的路径是相对于 cwd 的，如果在脚本中使用相对路径，可能会发生不可知的问题，所以我个人习惯先定位到脚本所在目录，或者项目根目录。

```shell
# 脚本所在目录

SCRIPT_DIR=$(cd `dirname $0`; pwd)
```

### 使用 getopts

使用上面的方式对于参数少的情况下挺方便，但如果参数多，就可能弄混，可读性不好。另外如果脚本有修改也容易造成错误，毕竟对于参数顺序有依赖。

另一种优雅的方式是使用 `getopts`，
